(()=>{"use strict";class e{constructor(e){this.name=e.name,this.due=e.due,this.desc=e.desc,this.priority=e.priority,this.id=e.id}}class t{constructor(e,t){this.name=e,this.tasks=[],this.id=t}add_task(e){this.tasks.push(e)}remove_task(e){this.tasks.splice(this.tasks.findIndex((t=>t.id==e)),1)}}let n=1,l=-1;const d=[];let o=document.querySelector(".projects"),c=document.querySelector("#create-project button"),a=document.querySelector("#create-project input");c.addEventListener("click",(c=>{let i;i=""==a.value?new t("untitled project",n):new t(a.value,n),n++,d.push(i),function(t){let n=document.createElement("div");n.classList.add("project"),n.id=t.id,o.append(n);let c=document.createElement("span");c.classList.add("title"),c.textContent=t.name;let a=document.createElement("ul");n.append(c,a,function(t){let n=document.createElement("div");n.classList.add("btn-container");let o=document.createElement("button");o.textContent="+ add task";let c=document.createElement("button");return c.textContent="- remove project",c.style.backgroundColor="red",n.append(o,c),o.addEventListener("click",(d=>{let o=document.getElementById(t.id).querySelector("form");null==o?(o=document.createElement("form"),o.innerHTML='\n                <label for="task_name">Name: </label>\n                <input type="text" id="task_name" name="name" value="Ricky">\n                <label for="due">Due: </label>\n                <input type="date" id="due" name="due">\n                <label for="desc">Description: </label>\n                <textarea id="desc" cols="30" rows="10" name="desc"></textarea>\n                <label for="priority">Priority: </label>\n                <select id="priority" name="priority">\n                    <option>Low</option>\n                    <option selected>Medium</option>\n                    <option>High</option>\n                </select>\n                <button>Done</button>\n            ',o.addEventListener("submit",(n=>{n.preventDefault(),function(t,n){let d=document.getElementById(n.id);d.querySelector(".btn-container");const o=d.querySelector("#task_name").value,c=d.querySelector("#due").value,a=d.querySelector("#desc").value,i=d.querySelector("#priority").value;let r=new e({name:o,due:c,desc:a,priority:i,id:l});console.log(r),n.add_task(r);let s=document.createElement("li");s.classList.add("task"),s.id=l,l--,s.textContent=r.name,t.remove(),s.addEventListener("click",(e=>{let t=document.getElementById(s.id).querySelector(".task-clicked");if(null==t){t=document.createElement("div"),t.classList.add("task-clicked");let e=document.createElement("div");e.style.cssText="display: flex; gap: 3px;";let n=document.createElement("button"),l=document.createElement("button");n.textContent="Mark finished",l.textContent="Delete task";let d=document.createElement("span");d.textContent="Due: "+r.date;let o=document.createElement("span");o.textContent="Description: "+r.desc;let c=document.createElement("span");c.textContent="Priority: "+r.priority,e.append(n,l),t.append(e,d,o,c),s.append(t)}else t.classList.toggle("hidden");s.style.cursor="pointer"==s.style.cursor||""==s.style.cursor?"default":"pointer"})),d.querySelector("ul").append(s)}(o,t)})),n.append(o)):o.classList.toggle("hidden")})),c.addEventListener("click",(e=>{d.splice(d.findIndex((e=>e.id==t.id)),1),document.getElementById(t.id).remove()})),n}(t))}(i)}))})();