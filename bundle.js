(()=>{"use strict";class e{constructor(e){this.name=e.name,this.due=e.due,this.desc=e.desc,this.priority=e.priority,this.id=e.id}}class t{constructor(e,t){this.name=e,this.tasks=[],this.id=t}add_task(e){this.tasks.push(e)}remove_task(e){this.tasks.splice(this.tasks.findIndex((t=>t.id==e)),1)}}let n=1,o=-1;const a=[];let i=document.querySelector(".projects"),r=document.querySelector("#create-project button"),d=document.querySelector("#create-project input");r.addEventListener("click",(r=>{let l;l=""==d.value?new t("untitled project",n):new t(d.value,n),n++,a.push(l),function(t){let n=document.createElement("div");n.classList.add("project"),n.id=t.id,i.append(n);let a=document.createElement("span");a.classList.add("title"),a.textContent=t.name,n.append(a,function(t){let n=document.createElement("div");n.classList.add("btn-container");let a=document.createElement("button");a.textContent="+ add task";let i=document.createElement("button");return i.textContent="- remove project",i.style.backgroundColor="red",n.append(a,i),a.addEventListener("click",(a=>{let i=document.getElementById(t.id).querySelector("form");null==i?(alert("sdasd"),i=document.createElement("form"),i.innerHTML='\n                <label for="task_name">Name: </label>\n                <input type="text" id="task_name" name="name" value="Ricky">\n                <label for="due">Due: </label>\n                <input type="date" id="due" name="due">\n                <label for="desc">Description: </label>\n                <textarea id="desc" cols="30" rows="10" name="desc"></textarea>\n                <label for="priority">Priority: </label>\n                <select id="priority" name="priority">\n                    <option>Low</option>\n                    <option selected>Medium</option>\n                    <option>High</option>\n                </select>\n                <button>Done</button>\n            ',i.addEventListener("submit",(n=>{n.preventDefault(),function(t,n){let a=document.getElementById(n.id),i=a.querySelector(".btn-container");const r={name:a.querySelector("#task_name").value,due:a.querySelector("#due").value,desc:a.querySelector("#desc").value,priority:a.querySelector("#priority").value,id:o};console.log(r),o--;let d=new e(r);console.log(d),n.add_task(d);let l=document.createElement("div");l.classList.add("task"),l.textContent=d.name,t.remove(),i.insertAdjacentElement("beforebegin",l)}(i,t)})),n.append(i)):i.classList.toggle("hidden")})),n}(t))}(l)}))})();